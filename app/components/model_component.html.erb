<%= render ::CompanionWindowsComponent.new(viewer:, stimulus_controller: 'file-auth tree') do |component| %>
  <% component.with_header_button do %>
    <%= render CompanionWindows::ShareButtonComponent.new %>
  <% end %>

  <% component.with_header_button do %>
    <%= render CompanionWindows::FullscreenButtonComponent.new %>
  <% end %>

  <% component.with_authorization_messages do %>
    <%= render CompanionWindows::AuthorizationMessagesComponent.new %>
  <% end %>

  <% component.with_body do %>
    <div data-controller="locked-poster" data-action="auth-success@window->locked-poster#hide needs-login@window->locked-poster#show auth-denied@window->locked-poster#show" role="presentation" style="flex: 1 0 100%; text-align: center;" hidden>
      <%= render LockedStatusComponent.new %>
    </div>
    <div class="sul-embed-3d sul-embed-body" data-controller="model" data-action="iiif-manifest-received@window->file-auth#parseFiles">
      <div class="buttons">
        <button aria-label="Zoom in" data-action="model#zoomIn" class="zoom-in">+</button>
        <button aria-label="Zoom out" data-action="model#zoomOut" class="zoom-out">-</button>
      </div>
      <div data-model-target="modelViewerContainer" class="model-viewer-container" data-action="auth-success@window->model#show">
      </div>
    </div>
  <% end %>
<% end %>
